{"ast":null,"code":"import constants from '../resources/strings';\nimport clientUtils from '../utils/client-utils';\nconst defaultState = {\n  userApp: {\n    currentUser: {},\n    isLogin: false,\n    loginToken: \"\"\n  }\n};\n\nconst reducer = (state = defaultState, action) => {\n  var newState = JSON.parse(JSON.stringify(state));\n\n  switch (action.type) {\n    case constants.action.action_user_login:\n      debugger;\n      newState.userApp.currentUser = action.value;\n      newState.userApp.isLogin = newState.userApp.currentUser && newState.userApp.currentUser.id;\n      clientUtils.auth = newState.userApp.access_token;\n      return newState;\n\n    case constants.action.action_user_logout:\n      // userProvider.logout();\n      newState.userApp.unReadNotificationCount = 0;\n      newState.userApp.currentUser = {};\n      newState.userApp.isLogin = false;\n      newState.userApp.loginToken = \"\";\n      clientUtils.auth = \"\";\n      return newState;\n  }\n\n  return newState;\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/quang/code/land-project-react/src/reducers/index.js"],"names":["constants","clientUtils","defaultState","userApp","currentUser","isLogin","loginToken","reducer","state","action","newState","JSON","parse","stringify","type","action_user_login","value","id","auth","access_token","action_user_logout","unReadNotificationCount"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,sBAAtB;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,OAAO,EACP;AACIC,IAAAA,WAAW,EAAE,EADjB;AAIIC,IAAAA,OAAO,EAAE,KAJb;AAKIC,IAAAA,UAAU,EAAE;AALhB;AAFiB,CAArB;;AAUA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AAC9C,MAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeL,KAAf,CAAX,CAAf;;AACA,UAAQC,MAAM,CAACK,IAAf;AACI,SAAKd,SAAS,CAACS,MAAV,CAAiBM,iBAAtB;AACI;AACAL,MAAAA,QAAQ,CAACP,OAAT,CAAiBC,WAAjB,GAA+BK,MAAM,CAACO,KAAtC;AACAN,MAAAA,QAAQ,CAACP,OAAT,CAAiBE,OAAjB,GAA2BK,QAAQ,CAACP,OAAT,CAAiBC,WAAjB,IAAgCM,QAAQ,CAACP,OAAT,CAAiBC,WAAjB,CAA6Ba,EAAxF;AACAhB,MAAAA,WAAW,CAACiB,IAAZ,GAAmBR,QAAQ,CAACP,OAAT,CAAiBgB,YAApC;AACA,aAAOT,QAAP;;AACJ,SAAKV,SAAS,CAACS,MAAV,CAAiBW,kBAAtB;AACI;AACAV,MAAAA,QAAQ,CAACP,OAAT,CAAiBkB,uBAAjB,GAA2C,CAA3C;AACAX,MAAAA,QAAQ,CAACP,OAAT,CAAiBC,WAAjB,GAA+B,EAA/B;AACAM,MAAAA,QAAQ,CAACP,OAAT,CAAiBE,OAAjB,GAA2B,KAA3B;AACAK,MAAAA,QAAQ,CAACP,OAAT,CAAiBG,UAAjB,GAA8B,EAA9B;AACAL,MAAAA,WAAW,CAACiB,IAAZ,GAAmB,EAAnB;AACA,aAAOR,QAAP;AAdR;;AAgBA,SAAOA,QAAP;AACH,CAnBD;;AAqBA,eAAeH,OAAf","sourcesContent":["import constants from '../resources/strings'\nimport clientUtils from '../utils/client-utils';\nconst defaultState = {\n    userApp:\n    {\n        currentUser: {\n\n        },\n        isLogin: false,\n        loginToken: \"\",\n    }\n}\nconst reducer = (state = defaultState, action) => {\n    var newState = JSON.parse(JSON.stringify(state));    \n    switch (action.type) {\n        case constants.action.action_user_login:\n            debugger\n            newState.userApp.currentUser = action.value;\n            newState.userApp.isLogin = newState.userApp.currentUser && newState.userApp.currentUser.id;\n            clientUtils.auth = newState.userApp.access_token ;\n            return newState;\n        case constants.action.action_user_logout:\n            // userProvider.logout();\n            newState.userApp.unReadNotificationCount = 0;\n            newState.userApp.currentUser = {};\n            newState.userApp.isLogin = false;\n            newState.userApp.loginToken = \"\";\n            clientUtils.auth = \"\";\n            return newState;\n    }\n    return newState;\n}\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}