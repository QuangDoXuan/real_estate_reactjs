{"ast":null,"code":"var _jsxFileName = \"/home/quang/code/land-project-react/src/sites/admin/components/account/login.js\";\n//React, redux\nimport React from 'react';\nimport { connect } from 'react-redux'; //UI\n\nimport { toast } from 'react-toastify';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport constants from '../../../../resources/strings'; //provider\n\nimport dataCacheProvider from '../../../../data-access/datacache-provider';\nimport userProvider from '../../../../data-access/user-provider';\nimport './main.css';\nimport './util.css';\nimport axios from 'axios';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      grant_type: 'password' // confirm: ''\n\n    };\n  }\n\n  componentWillMount() {\n    this.checkUserLogin();\n  }\n\n  checkUserLogin() {\n    if (this.props.userApp.currentUser) {\n      this.props.history.push(\"/admin/dashboard\");\n    } else {\n      this.props.history.push(\"/dang-nhap\");\n    }\n  }\n\n  login() {\n    const _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password,\n          grant_type = _this$state.grant_type;\n    let body = {\n      email: username,\n      password: password\n    };\n    userProvider.login(body).then(res => {\n      this.props.dispatch({\n        type: constants.action.action_user_login,\n        value: res.user\n      });\n      this.props.dispatch({\n        type: 'SAVE_TOKEN',\n        value: res.token\n      });\n      dataCacheProvider.save(\"\", constants.key.storage.current_account, res.user).then(s => {\n        this.props.history.push(\"/admin/dashboard\");\n      });\n      toast.success('Xin chào ' + res.user.username, {\n        position: toast.POSITION.TOP_RIGHT\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          username = _this$state2.username,\n          password = _this$state2.password,\n          confirm = _this$state2.confirm;\n    return React.createElement(\"div\", {\n      className: \"limiter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-login100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrap-login100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login100-form-title\",\n      style: {\n        backgroundImage: 'url(images/bg-01.jpg)'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"login100-form-title-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"sub\", {\n      style: {\n        fontWeight: 100,\n        fontSize: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Admin\"))), React.createElement(\"form\", {\n      className: \"login100-form validate-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrap-input100 validate-input m-b-26\",\n      \"data-validate\": \"Username is required\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label-input100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Username\"), React.createElement(\"input\", {\n      value: username,\n      onChange: event => {\n        this.setState({\n          username: event.target.value\n        });\n      },\n      className: \"input100\",\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Enter username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"wrap-input100 validate-input m-b-18\",\n      \"data-validate\": \"Password is required\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"label-input100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      value: password,\n      onChange: event => {\n        this.setState({\n          password: event.target.value\n        });\n      },\n      className: \"input100\",\n      type: \"password\",\n      name: \"pass\",\n      placeholder: \"Enter password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"flex-sb-m w-full p-b-30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"contact100-form-checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input-checkbox100\",\n      id: \"ckb1\",\n      type: \"checkbox\",\n      name: \"remember-me\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"label-checkbox100\",\n      htmlFor: \"ckb1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Remember me\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      className: \"txt1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Forgot Password?\"))), React.createElement(\"div\", {\n      className: \"container-login100-form-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: () => this.login(),\n      className: \"login100-form-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Login\"))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    userApp: state.userApp\n  };\n}\n\nexport default connect(mapStateToProps)(Login);","map":{"version":3,"sources":["/home/quang/code/land-project-react/src/sites/admin/components/account/login.js"],"names":["React","connect","toast","ToastContainer","constants","dataCacheProvider","userProvider","axios","Login","Component","constructor","props","state","username","password","grant_type","componentWillMount","checkUserLogin","userApp","currentUser","history","push","login","body","email","then","res","dispatch","type","action","action_user_login","value","user","token","save","key","storage","current_account","s","success","position","POSITION","TOP_RIGHT","catch","e","console","log","render","confirm","backgroundImage","fontWeight","fontSize","event","setState","target","mapStateToProps"],"mappings":"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","sourcesContent":["//React, redux\nimport React from 'react'\nimport { connect } from 'react-redux';\n\n//UI\nimport { toast } from 'react-toastify';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport constants from '../../../../resources/strings'\n\n//provider\nimport dataCacheProvider from '../../../../data-access/datacache-provider'\nimport userProvider from '../../../../data-access/user-provider'\n\nimport './main.css'\nimport './util.css' \nimport axios from 'axios';\n\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            username: '',\n            password: '',\n            grant_type: 'password'\n            // confirm: ''\n        }\n    }\n\n    componentWillMount() {\n        this.checkUserLogin()\n    }\n\n    checkUserLogin() {\n        if (this.props.userApp.currentUser) {\n            this.props.history.push(\"/admin/dashboard\");\n        } else {\n            this.props.history.push(\"/dang-nhap\");\n        }\n    }\n\n    login() {\n        const { username, password, grant_type } = this.state;\n        let body = {\n          email: username,\n          password: password\n        }\n        userProvider.login(body).then(res=>{\n          this.props.dispatch({ type: constants.action.action_user_login, value: res.user })\n          this.props.dispatch({ type: 'SAVE_TOKEN', value: res.token })\n          dataCacheProvider.save(\"\", constants.key.storage.current_account, res.user).then(s => {\n              this.props.history.push(\"/admin/dashboard\");\n          });\n          toast.success('Xin chào '+ res.user.username, {\n              position: toast.POSITION.TOP_RIGHT\n          });\n        }).catch(e=>{\n          console.log(e)\n        })\n    }\n\n\n    render() {\n        const { username, password, confirm } = this.state;\n        return (\n            <div className=\"limiter\">\n            <div className=\"container-login100\">\n              <div className=\"wrap-login100\">\n                <div className=\"login100-form-title\" style={{backgroundImage: 'url(images/bg-01.jpg)'}}>\n                  <span className=\"login100-form-title-1\">\n                    <sub style={{fontWeight:100, fontSize:10}}>Admin</sub>\n                  </span>\n                </div>\n                <form className=\"login100-form validate-form\">\n                  <div className=\"wrap-input100 validate-input m-b-26\" data-validate=\"Username is required\">\n                    <span className=\"label-input100\">Username</span>\n                    <input value={username} onChange={(event) => { this.setState({ username: event.target.value }) }}  className=\"input100\" type=\"text\" name=\"username\" placeholder=\"Enter username\" />\n                    <span className=\"focus-input100\" />\n                  </div>\n                  <div className=\"wrap-input100 validate-input m-b-18\" data-validate=\"Password is required\">\n                    <span className=\"label-input100\">Password</span>\n                    <input  value={password} onChange={(event) => { this.setState({ password: event.target.value }) }}  className=\"input100\" type=\"password\" name=\"pass\" placeholder=\"Enter password\" />\n                    <span className=\"focus-input100\" />\n                  </div>\n                  <div className=\"flex-sb-m w-full p-b-30\">\n                    <div className=\"contact100-form-checkbox\">\n                      <input className=\"input-checkbox100\" id=\"ckb1\" type=\"checkbox\" name=\"remember-me\" />\n                      <label className=\"label-checkbox100\" htmlFor=\"ckb1\">\n                        Remember me\n                      </label>\n                    </div>\n                    <div>\n                      <a href=\"#\" className=\"txt1\">\n                        Forgot Password?\n                      </a>\n                    </div>\n                  </div>\n                  <div className=\"container-login100-form-btn\">\n                   \n                  </div>\n                </form>\n                <button onClick={() => this.login()}  className=\"login100-form-btn\">\n                      Login\n                    </button>\n              </div>\n            </div>\n          </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        userApp: state.userApp\n    };\n}\nexport default connect(mapStateToProps)(Login);"]},"metadata":{},"sourceType":"module"}